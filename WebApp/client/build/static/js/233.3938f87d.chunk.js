"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[233],{5255:function(s,e,n){n.r(e),n.d(e,{default:function(){return M}});var i=n(885),t=n(2791),c=n(8687),r=n(9126),l=n(7692),a=n(4164),o=n(4828),d=n(4569),u=n.n(d),h=n(184);function x(s){var e=(0,t.useState)(""),n=(0,i.Z)(e,2),c=n[0],r=n[1],l=(0,t.useRef)(null),a=(0,t.useRef)(null);return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("h2",{onClick:function(){return s.setChangePswd(!1)},children:"New password"}),(0,h.jsxs)("div",{children:[(0,h.jsx)("input",{type:"password",placeholder:"Enter your new password",ref:l,required:!0,minLength:5,maxLength:20}),(0,h.jsx)("input",{type:"password",placeholder:"Confirm your password",ref:a,required:!0,minLength:5,maxLength:20})]}),(0,h.jsx)("p",{id:"modification-error-message",children:c}),(0,h.jsx)("button",{id:"confirm-pswd",onClick:function(){return function(){var s=l.current.value,e=a.current.value;s!==e&&r("please, select the same password in the 2 fields")}()},children:"Confirm"})]})}function j(s){var e=(0,t.useState)(""),n=(0,i.Z)(e,2),c=n[0],r=n[1],l=(0,t.useRef)(null);return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("h2",{onClick:function(){return s.setChangePseudo(!1)},children:"New pseudo"}),(0,h.jsxs)("div",{children:[(0,h.jsx)("input",{type:"text",placeholder:"Enter your new pseudo",ref:l,required:!0,minLength:5,maxLength:20}),(0,h.jsx)("button",{id:"confirm-pseudo",onClick:function(){l.current.value===s.pseudo&&r("please, select a different pseudo")},children:"Confirm"})]}),(0,h.jsx)("p",{id:"modification-error-message",children:c})]})}var m=function(s){var e=s.setModal,n=(0,t.useContext)(c.N).theme,d=(0,t.useState)([]),m=(0,i.Z)(d,2),f=m[0],p=m[1],v=(0,t.useState)([]),g=(0,i.Z)(v,2),N=g[0],y=g[1],C=(0,t.useState)(!1),b=(0,i.Z)(C,2),k=b[0],w=b[1],S=(0,t.useState)(!1),z=(0,i.Z)(S,2),I=z[0],Z=z[1];return(0,t.useEffect)((function(){u().get(o.J+"/user/2").then((function(s){y(s.data[0][0])})).catch((function(s){p(s)}))}),[]),(0,a.createPortal)((0,h.jsx)("section",{className:"user-settings-section",children:0===f.length?(0,h.jsxs)("div",{className:"user-settings-body",children:[(0,h.jsxs)("div",{className:n?"settings-header-dark":"settings-header-light",children:[(0,h.jsx)("h1",{children:"My account"}),(0,h.jsx)("button",{onClick:function(){return e(!1)},children:(0,h.jsx)(l.qXE,{size:30})})]}),(0,h.jsxs)("div",{className:"settings-items",children:[(0,h.jsxs)("div",{className:"settings-user-pseudo",children:[(0,h.jsx)("h1",{onClick:function(){return console.log(N.pseudo)},children:"Hello"}),(0,h.jsx)("h1",{children:N.pseudo}),(0,h.jsx)("span",{id:"hello-span",children:"\ud83d\udc4b\ud83c\udffb"})]}),(0,h.jsx)("div",{className:"settings-user-infos",children:(0,h.jsxs)("div",{className:"settings-user-infos-items",children:[(0,h.jsx)("div",{className:"change-informations",children:I?(0,h.jsx)(j,{setChangePseudo:Z,pseudo:N.pseudo}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("h2",{children:"Your pseudo"}),(0,h.jsxs)("div",{children:[(0,h.jsx)("p",{children:N.pseudo}),(0,h.jsx)("button",{onClick:function(){return Z(!0)},children:(0,h.jsx)(r.CSz,{size:15,id:"settings-pen"})})]})]})}),(0,h.jsx)("div",{className:"change-informations",children:k?(0,h.jsx)(x,{setChangePswd:w}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("h2",{children:"Your password"}),(0,h.jsxs)("div",{children:[(0,h.jsx)("p",{children:"*************"}),(0,h.jsx)("button",{onClick:function(){return w(!0)},children:(0,h.jsx)(r.CSz,{size:15,id:"settings-pen"})})]})]})})]})})]})]}):(0,h.jsxs)("div",{className:"user-settings-body",children:[(0,h.jsxs)("div",{className:n?"settings-header-dark":"settings-header-light",children:[(0,h.jsx)("h1",{children:"My account"}),(0,h.jsx)("button",{onClick:function(){return e(!1)},children:(0,h.jsx)(l.qXE,{size:30})})]}),(0,h.jsxs)("div",{className:"settings-items",children:[(0,h.jsx)("div",{className:"settings-user-pseudo",children:(0,h.jsx)("h1",{})}),(0,h.jsx)("div",{className:"settings-user-infos",children:(0,h.jsx)("div",{children:(0,h.jsx)("p",{id:"modal-error-text",children:"An error just occured..."})})})]})]})}),document.body)},f=n(8617),p=n(6856);var v=function(s){var e=s.setDropdown,n=(0,t.useState)(!1),c=(0,i.Z)(n,2),l=c[0],a=c[1];return(0,h.jsx)("section",{className:"drop-settings-container",children:l?(0,h.jsx)(m,{setModal:a}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:"drop-settings-items",onClick:function(){return e(!0)},children:[(0,h.jsx)("div",{children:(0,h.jsx)(f.jTe,{size:22,className:"settings-icons"})}),(0,h.jsx)("p",{children:"Go Back"})]}),(0,h.jsxs)("div",{className:"drop-settings-items",onClick:function(){return a(!0)},children:[(0,h.jsx)("div",{children:(0,h.jsx)(r.cHS,{size:22,className:"settings-icons"})}),(0,h.jsx)("p",{children:"Profile settings"})]}),(0,h.jsxs)("div",{className:"drop-settings-items",children:[(0,h.jsx)("div",{children:(0,h.jsx)(p.$lZ,{size:22,className:"settings-icons"})}),(0,h.jsxs)("select",{name:"cars",id:"cars",children:[(0,h.jsx)("option",{value:"saab",children:"English"}),(0,h.jsx)("option",{value:"saab",children:"French"})]})]})]})})},g=n(6355);function N(){var s=(0,t.useContext)(c.N),e=s.theme,n=s.toggleTheme;return(0,h.jsx)("div",{children:e?(0,h.jsxs)("div",{className:"settings-items",onClick:n,children:[(0,h.jsx)("div",{children:(0,h.jsx)(r.UD2,{size:22,className:"settings-icons"})}),(0,h.jsx)("p",{children:"LIGHT THEME"})]}):(0,h.jsxs)("div",{className:"settings-items",onClick:n,children:[(0,h.jsx)("div",{children:(0,h.jsx)(r.mox,{size:22,className:"settings-icons"})}),(0,h.jsx)("p",{children:"DARK THEME"})]})})}var y=function(){var s=(0,t.useState)(!0),e=(0,i.Z)(s,2),n=e[0],c=e[1];return(0,h.jsx)("section",{className:"settings-container",children:n?(0,h.jsxs)("div",{children:[(0,h.jsxs)("div",{className:"settings-items",onClick:function(){return c(!1)},children:[(0,h.jsx)("div",{children:(0,h.jsx)(r.b4S,{size:22,className:"settings-icons"})}),(0,h.jsx)("p",{children:"Settings"})]}),(0,h.jsx)(N,{}),(0,h.jsxs)("div",{className:"settings-items",children:[(0,h.jsx)("div",{children:(0,h.jsx)(g.LL$,{size:22,className:"settings-icons"})}),(0,h.jsx)("p",{children:"Informations"})]})]}):(0,h.jsx)(v,{setDropdown:c})})};var C=function(s){var e=s.setContentDisplay,n=(0,t.useContext)(c.N).theme,a=(0,t.useState)(!1),o=(0,i.Z)(a,2),d=o[0],u=o[1];return(0,h.jsxs)("div",{className:n?"navbar-section-dark":"navbar-section-light",children:[(0,h.jsx)("div",{className:"navbar-section-items",children:(0,h.jsx)("h1",{onClick:function(){return e(0)},children:"ShuffleTunes"})}),(0,h.jsxs)("div",{className:"navbar-section-icons",children:[(0,h.jsx)("div",{className:"navbar-section-icons-childs",children:(0,h.jsx)(r.cHS,{size:20,id:"navbar-icon"})}),(0,h.jsxs)("div",{className:"navbar-section-icons-childs",children:[(0,h.jsx)(r.FBj,{size:20,onClick:function(){u(!d)},id:"navbar-icon"}),d?(0,h.jsx)(y,{}):(0,h.jsx)("div",{})]}),(0,h.jsx)("div",{className:"navbar-section-icons-childs",children:(0,h.jsx)(l.XqV,{size:20,id:"navbar-icon"})})]})]})},b=n(8820);var k=function(s){var e=s.setContentDisplay,n=(0,t.useContext)(c.N).theme;return(0,h.jsxs)("div",{className:n?"sidebar-dark":"sidebar-light",children:[(0,h.jsxs)("div",{className:"sidebar-item1",children:[(0,h.jsx)(r.G3K,{size:25,id:"sidebar-icon"}),(0,h.jsx)("p",{onClick:function(){return e(1)},children:"Your Files"})]}),(0,h.jsxs)("div",{className:"sidebar-item2",children:[(0,h.jsx)(r.pfx,{size:25,id:"sidebar-icon"}),(0,h.jsx)("p",{children:"Upload new files"})]}),(0,h.jsxs)("div",{className:"sidebar-item2",children:[(0,h.jsx)(p.LkC,{size:25,id:"sidebar-icon"}),(0,h.jsx)("p",{onClick:function(){return e(4)},children:"Your PlayLists"})]}),(0,h.jsxs)("div",{className:"sidebar-item2",children:[(0,h.jsx)(b.lo,{size:25,id:"sidebar-icon"}),(0,h.jsx)("p",{onClick:function(){return e(2)},children:"Favorites Songs"})]})]})},w=n(9434),S=n(5893),z=n(3361),I=n(9512);var Z=function(s){var e=s.item,n=s.itemId,c=(0,t.useState)([]),a=(0,i.Z)(c,2),d=a[0],x=a[1],j=(0,t.useState)([]),m=(0,i.Z)(j,2),f=m[0],p=m[1],v=(0,w.I0)(),g=(0,w.v9)((function(s){return s.playlistReducer.listDisplay})),N=(0,w.v9)((function(s){return s.addSongReducer.display})),y=(0,w.v9)((function(s){return s.addSongReducer.playlistId})),C=function(){v(g===e?(0,z.Gg)(""):(0,z.Gg)(e))};return(0,h.jsxs)("div",{className:"file-list-child",children:[(0,h.jsxs)("div",{className:"file-list-songs",children:[(0,h.jsx)("p",{onClick:function(){v((0,S.pk)("open")),v((0,S.st)(e)),function(s){u().post(o.J+"/pd",{song:s}).then((function(){console.log("enfoir\xe9")})).catch((function(s){console.log(s)}))}(e)},children:e}),g===e?(0,h.jsx)("button",{onClick:function(){v((0,z.Gg)(e)),C(),v((0,I.nI)(!1))},children:(0,h.jsx)(r.UE1,{size:28,className:"file-list-child-icon"})}):(0,h.jsx)("button",{onClick:function(){v((0,z.Gg)(e)),C(),function(){try{u().get(o.J+"/playlists").then((function(s){x(s.data[0])})).catch((function(s){p(s)}))}catch(f){p(f)}}(),v((0,I.nI)(!1))},children:(0,h.jsx)(l.ffM,{size:23,className:"file-list-child-icon"})})]}),(0,h.jsx)("div",{className:"file-list-dropmenu",children:g===e?(0,h.jsx)("div",{className:"dropmenu-box",children:N?(0,h.jsxs)("div",{className:"add-song-container",children:[(0,h.jsx)("p",{children:"Add this song to this playlist ?"}),(0,h.jsxs)("div",{children:[(0,h.jsx)("button",{onClick:function(){return v((0,I.nI)(!1))},children:"Cancel"}),(0,h.jsx)("button",{onClick:function(){return function(){try{u().post(o.J+"/newsong",{musicId:n,playlistId:y}).then((function(){v((0,I.nI)(!1))})).catch((function(s){p(s)}))}catch(f){p(f)}}()},children:"Yes"})]})]}):(0,h.jsx)(t.Fragment,{children:0===f.length?d.map((function(s){return(0,h.jsx)("p",{id:s.playlistId,className:"playlist-items",onClick:function(){v((0,I.nI)(!0)),v((0,I.G4)(s.playlistId))},children:s.playlistName},s.playlistId)})):(0,h.jsx)("p",{children:"An error just occured..."})})}):(0,h.jsx)("p",{})})]})},F=o.J+"/songs";function E(s){return(0,h.jsx)(t.Fragment,{children:"no-file"===s.error?(0,h.jsxs)("div",{children:[(0,h.jsx)("h1",{children:"Your File List"}),(0,h.jsx)("p",{id:"no-file-list",children:"Your music list is empty..."})]}):(0,h.jsxs)("div",{id:"error-file-list",children:[(0,h.jsx)("h1",{children:"Your File List"}),(0,h.jsx)("p",{children:"An error just occured..."})]})})}var L=function(){var s=(0,t.useState)([]),e=(0,i.Z)(s,2),n=e[0],c=e[1],r=(0,t.useState)([]),l=(0,i.Z)(r,2),a=l[0],o=l[1];return(0,t.useEffect)((function(){try{u().get(F+"/1").then((function(s){c(s.data[0])})).catch((function(s){o(s),console.clear()}))}catch(a){o(a),console.clear()}}),[]),(0,h.jsx)("div",{children:0===a.length?(0,h.jsx)("div",{className:"filelist-section",children:0===n.length?(0,h.jsx)(E,{error:"no-file"}):(0,h.jsxs)("div",{children:[(0,h.jsx)("h1",{children:"Your File List"}),(0,h.jsx)("div",{className:"music-list-items",children:n.map((function(s){return(0,h.jsx)(Z,{item:s.musicTitle,itemId:s.musicId},s.musicId)}))})]})}):(0,h.jsx)(E,{error:""})})};var P=function(){return(0,h.jsxs)("div",{className:"favorite-section",children:[(0,h.jsx)("h1",{children:"Your Favorite Songs List"}),(0,h.jsx)("div",{className:"fav-songs-list"})]})},Y=n(6659);n(7226);var D=function(){var s=[{name:(0,w.v9)((function(s){return s.musicReducer.song})),src:"http://shuffletunes.local:81/Gazo_BECTE.mp3"}],e=(0,t.useState)(0),n=(0,i.Z)(e,2),c=n[0],r=n[1],l=function(){r((function(e){return e<s.length-1?e+1:0}))};return(0,h.jsx)("div",{className:"sound-player",onClick:function(){return console.log(s)},children:(0,h.jsx)(Y.Z,{style:{borderRadius:"1rem",backgroundColor:"#322c2c",padding:"10px 0px",boxShadow:"0 0 0px 0"},src:s[c].src,showSkipControls:!0,showJumpControls:!1,header:" ".concat(s[c].name),showFilledProgress:!0,showDownloadProgress:!1,onClickPrevious:function(){r((function(e){return 0===e?s.length-1:e-1}))},onClickNext:l,onEnded:l,autoPlayAfterSrcChange:!0})})},A=n(7425),J=n(6036);function R(s){return(0,h.jsx)(t.Fragment,{children:"no-songs"===s.error?(0,h.jsx)("p",{children:"You don't have any songs in this playlist..."}):(0,h.jsx)("p",{children:"An error just occured..."})})}function T(s){var e=(0,t.useState)(!0),n=(0,i.Z)(e,2),c=n[0],r=n[1];return(0,h.jsxs)("div",{className:c?"songs-items":"none",children:[(0,h.jsx)("button",{onClick:function(){var e;e=s.id,u().delete(o.J+"/deletesongplaylist/"+e).then((function(){})).catch((function(){})),r(!1)},children:(0,h.jsx)(J.bqj,{size:24,className:"songs-items-icons"})}),(0,h.jsx)("p",{children:s.title})]},s.id)}var G=function(s){var e=s.id,n=s.title,c=(0,t.useState)([]),l=(0,i.Z)(c,2),a=l[0],d=l[1],x=(0,t.useState)([]),j=(0,i.Z)(x,2),m=j[0],f=j[1],v=(0,w.v9)((function(s){return s.playlistReducer.display})),g=(0,w.I0)(),N=function(){g(e===v?(0,z.iO)(0):(0,z.iO)(e))};return(0,h.jsxs)("div",{className:"dropdown",children:[(0,h.jsxs)("div",{className:"dropdown-menu",onClick:function(){g((0,z.iO)(e)),N(),u().get(o.J+"/playlistsongs/"+e).then((function(s){d(s.data[0])})).catch((function(s){f(s),console.clear()}))},children:[(0,h.jsx)("p",{className:"playlist-name",children:n}),(0,h.jsxs)("div",{children:[(0,h.jsx)("button",{className:"gear-button",children:(0,h.jsx)(r.FBj,{className:"playlist-gear-icon",size:20})}),(0,h.jsx)("button",{className:"dropdown-button",onClick:function(){g((0,z.iO)(e)),N()},children:(0,h.jsx)(p.gwH,{className:"dropdown-menu-icon",size:28})})]})]}),(0,h.jsx)("div",{className:"dropdown-content",children:0===m.length?(0,h.jsx)(t.Fragment,{children:v===e?(0,h.jsx)("div",{className:"dropdown-songs",children:0===a.length?(0,h.jsx)("p",{children:"Aucune musique dans cette playlist..."}):(0,h.jsx)("div",{children:a.map((function(s){return(0,h.jsx)(T,{id:s.musicId,title:s.musicTitle},s.musicId)}))})}):(0,h.jsx)("div",{})}):(0,h.jsx)(R,{error:""})})]})};function q(s){return(0,h.jsx)(h.Fragment,{children:"no-files"===s.error?(0,h.jsx)("p",{className:"playlist-message",children:"You don't have any playlists for the moment..."}):(0,h.jsx)("p",{className:"playlist-message",children:"An error just occured..."})})}var H=function(){var s=(0,t.useState)([]),e=(0,i.Z)(s,2),n=e[0],c=e[1],r=(0,t.useState)(!1),l=(0,i.Z)(r,2),a=l[0],d=l[1],x=(0,t.useState)([]),j=(0,i.Z)(x,2),m=j[0],f=j[1],p=(0,t.useRef)(null),v=function(){d(!a)};return(0,t.useEffect)((function(){try{u().get(o.J+"/playlists").then((function(s){c(s.data[0])})).catch((function(s){f(s)}))}catch(m){f(m),console.clear()}}),[]),(0,h.jsxs)("div",{className:"playlists-container",children:[(0,h.jsxs)("div",{className:"playlist-container-menu",children:[(0,h.jsx)("h1",{children:"Your PlayLists"}),a?(0,h.jsx)("button",{onClick:function(){return v()},children:(0,h.jsx)(A.tgW,{size:30,className:"playlist-container-menu-icon"})}):(0,h.jsx)("button",{onClick:function(){return v()},children:(0,h.jsx)(A.uGf,{size:30,className:"playlist-container-menu-icon"})})]}),(0,h.jsx)("div",{children:a?(0,h.jsxs)("form",{className:"add-playlist",onSubmit:function(){u().post(o.J+"/createplaylist",{playlistName:p.current.value,userId:1}).then((function(){})).catch((function(){console.clear()}))},children:[(0,h.jsx)("input",{type:"text",placeholder:"Create a new playlist",ref:p}),(0,h.jsx)("button",{type:"submit",children:"Add Playlist"})]}):(0,h.jsx)("div",{})}),(0,h.jsx)("div",{children:0===m.length?(0,h.jsx)(h.Fragment,{children:0===n.length?(0,h.jsx)(q,{error:"no-files"}):(0,h.jsx)("div",{className:"playlist-dropdowns",children:n.map((function(s){return(0,h.jsx)(G,{id:s.playlistId,title:s.playlistName},s.playlistId)}))})}):(0,h.jsx)(q,{error:""})})]})};var M=function(){var s=(0,t.useContext)(c.N).theme,e=(0,t.useState)(0),n=(0,i.Z)(e,2),r=n[0],l=n[1];return(0,h.jsxs)("div",{children:[(0,h.jsx)(C,{contentDisplay:r,setContentDisplay:l}),(0,h.jsxs)("div",{className:s?"dashboard-section-dark":"dashboard-section-light",children:[(0,h.jsx)(k,{contentDisplay:r,setContentDisplay:l}),(0,h.jsxs)("div",{className:"components-container",children:[(0,h.jsx)("div",{className:"main-content",children:function(){switch(r){case 0:return(0,h.jsxs)("div",{className:"dashboard-main-component",children:[(0,h.jsx)("h1",{children:"Welcome to ShuffleTunes !"}),(0,h.jsx)("p",{children:"Use our different options to optimize your experience on our App"}),(0,h.jsx)("button",{onClick:function(){return l(3)},children:"Try it now"})]});case 1:return(0,h.jsx)(L,{});case 2:return(0,h.jsx)(P,{});case 4:return(0,h.jsx)(H,{});default:return(0,h.jsx)("div",{})}}()}),(0,h.jsx)("div",{children:(0,h.jsx)(D,{})})]})]})]})}},4828:function(s,e,n){n.d(e,{J:function(){return i}});var i="http://localhost:5000"}}]);
//# sourceMappingURL=233.3938f87d.chunk.js.map